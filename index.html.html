<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<title>BLACKSIGHT Crosshair</title>
<style>
:root{
  --color:#000000;
  --accent:#22c55e;
}
*{box-sizing:border-box}
body{
  margin:0;
  background:#000;
  color:#fff;
  font-family:system-ui,sans-serif;
}

/* ===== LOADING ===== */
#loading{
  position:fixed;inset:0;
  display:flex;align-items:center;justify-content:center;
  background:#000;z-index:99999;
}
.loader{
  text-align:center;
}
.spinner{
  width:48px;height:48px;
  border:4px solid #111;
  border-top:4px solid var(--accent);
  border-radius:50%;
  animation:spin 1s linear infinite;
  margin:0 auto 16px;
}
@keyframes spin{to{transform:rotate(360deg)}}

/* ===== HOME ===== */
#home{
  position:fixed;inset:0;
  display:none;
  align-items:center;justify-content:center;
}
.home-box{
  background:linear-gradient(180deg,#0b0b0b,#020202);
  border:1px solid #1f2937;
  border-radius:20px;
  padding:40px;
  text-align:center;
  box-shadow:0 20px 60px rgba(0,0,0,.6);
}
.home-box h1{margin:0 0 10px 0}
.home-box p{color:#9ca3af}
.home-box button{
  margin-top:20px;
  background:linear-gradient(180deg,#22c55e,#16a34a);
  border:none;
  padding:14px 26px;
  border-radius:16px;
  font-weight:900;
  cursor:pointer;
}

/* ===== TOP ===== */
.top{
  height:56px;display:flex;align-items:center;justify-content:space-between;
  padding:0 20px;background:#050505;border-bottom:1px solid #111;
}
.top button{
  background:#0b0b0b;border:1px solid #1f2937;color:#fff;
  padding:8px 14px;border-radius:10px;font-weight:800;cursor:pointer
}

/* ===== PANEL ===== */
.panel{
  width:340px;position:fixed;left:16px;top:72px;bottom:16px;
  background:#0b0b0b;border-radius:18px;padding:16px;overflow:auto;display:none
}
.panel.show{display:block}
label{font-size:12px;display:block;margin-top:10px;color:#cbd5f5}
input,select{width:100%}

/* ===== OVERLAY ===== */
#overlay{position:fixed;inset:0;pointer-events:none;z-index:9999}
#crosshair{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}
.bar{position:absolute;background:var(--color)}
.circle{position:absolute;border:2px solid var(--color);border-radius:50%}
.dot{position:absolute;background:var(--color);border-radius:50%}

/* ===== APPLY ===== */
.apply{position:fixed;left:50%;bottom:18px;transform:translateX(-50%);display:none}
.apply.show{display:block}
.apply button{background:#22c55e;border:none;padding:12px 22px;border-radius:14px;font-weight:900}
</style>
</head>
<body>

<!-- LOADING -->
<div id="loading">
  <div class="loader">
    <div class="spinner"></div>
    <div>Crosshair Armory Loading...</div>
  </div>
</div>

<!-- LOGIN -->
<div id="login" style="position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#000;z-index:9000">
  <div style="background:#050505;border:1px solid #222;border-radius:18px;padding:32px;width:320px;text-align:center">
    <h2 style="margin:0 0 12px">BLACKSIGHT</h2>
    <p style="font-size:12px;color:#9ca3af">로그인 후 이용 가능합니다</p>
    <input id="loginId" placeholder="아이디" style="width:100%;margin-top:14px;padding:10px;border-radius:10px;border:none;background:#111;color:#fff">
    <input id="loginPw" type="password" placeholder="비밀번호" style="width:100%;margin-top:10px;padding:10px;border-radius:10px;border:none;background:#111;color:#fff">
    <button id="loginBtn" style="margin-top:16px;width:100%;padding:12px;border-radius:14px;border:none;background:#22c55e;font-weight:900;cursor:pointer">로그인</button>
    <p style="font-size:11px;color:#6b7280;margin-top:10px">※ 로컬 로그인 (서버 없음)</p>
  </div>
</div>

<!-- HOME -->
<div id="home">
  <div class="home-box">
    <h1>BLACKSIGHT</h1>
    <p>검은 배경 · 초정밀 크로스헤어 커스터마이저</p>
    <div style="display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:20px">
      <button id="startBtn">시작하기</button>
      <button id="shopBtn" style="background:#111;border:1px solid #333;color:#fff">상점</button>
    </div>
    <p style="font-size:12px;color:#6b7280;margin-top:14px">※ 구매 기능은 UI만 제공됩니다</p>
  </div>
</div>
        <div class="p-bar down"></div>
        <div class="p-bar left"></div>
        <div class="p-bar right"></div>
        <div class="p-circle"></div>
      </div>
      <div class="preview-label">기본 프리셋 미리보기</div>
    </div>

    <button id="startBtn">시작하기</button>
  </div>
</div>

<!-- APP -->
<div id="app" style="display:none">
  <div class="top">
    <div style="font-weight:900">BLACKSIGHT</div>
    <button id="openPanel">설정</button>
  </div>
    <button id="openPanel">설정</button>
  </div>

  <div class="panel" id="panel">
    <label><input type="checkbox" id="barOn" checked> 바 활성화</label>
    <label>색상 <input type="color" id="color" value="#000000"></label>
    <label>간격 <input type="range" id="gap" min="0" max="20" value="6"></label>
    <label>길이 <input type="range" id="len" min="5" max="50" value="20"></label>
    <label>두께 <input type="range" id="thick" min="1" max="10" value="2"></label>
    <hr>
    <label><input type="checkbox" id="circleOn"> 원 활성화</label>
    <label>원 크기 <input type="range" id="cSize" min="10" max="80" value="30"></label>
    <hr>
    <label><input type="checkbox" id="dotOn"> 점 활성화</label>
  </div>
</div>

<div id="overlay">
  <div id="crosshair">
    <div class="bar" id="up"></div>
    <div class="bar" id="down"></div>
    <div class="bar" id="left"></div>
    <div class="bar" id="right"></div>
    <div class="circle" id="circle"></div>
    <div class="dot" id="dot"></div>
  </div>
</div>

<div class="apply" id="applyBar"><button>적용하기</button></div>

<script>
const q=id=>document.getElementById(id);

// loading -> home
setTimeout(()=>{
  q('loading').style.display='none';
  if(localStorage.getItem('bs_login')){
    q('home').style.display='flex';
  }else{
    q('login').style.display='flex';
  }
},1500);

// login
q('loginBtn').onclick=()=>{
  const id=q('loginId').value.trim();
  const pw=q('loginPw').value.trim();
  if(!id||!pw){alert('아이디와 비밀번호를 입력하세요');return;}
  localStorage.setItem('bs_login','1');
  q('login').style.display='none';
  q('home').style.display='flex';
};

// home -> app
q('startBtn').onclick=()=>{
  q('home').style.display='none';
  q('app').style.display='block';
};

// panel toggle
q('openPanel').onclick=()=>q('panel').classList.toggle('show');

// crosshair logic
const bars={up:q('up'),down:q('down'),left:q('left'),right:q('right')};
const circle=q('circle');
const dot=q('dot');

function update(){
  document.documentElement.style.setProperty('--color', q('color').value);
  const len=+q('len').value;
  const thick=+q('thick').value;
  const gap=+q('gap').value;

  Object.values(bars).forEach(b=>b.style.display=q('barOn').checked?'block':'none');

  bars.up.style.width=thick+'px';bars.up.style.height=len+'px';bars.up.style.top=-(gap+len)+'px';
  bars.down.style.width=thick+'px';bars.down.style.height=len+'px';bars.down.style.top=gap+'px';
  bars.left.style.height=thick+'px';bars.left.style.width=len+'px';bars.left.style.left=-(gap+len)+'px';
  bars.right.style.height=thick+'px';bars.right.style.width=len+'px';bars.right.style.left=gap+'px';

  circle.style.display=q('circleOn').checked?'block':'none';
  const cs=q('cSize').value;circle.style.width=cs+'px';circle.style.height=cs+'px';circle.style.left=-(cs/2)+'px';circle.style.top=-(cs/2)+'px';

  dot.style.display=q('dotOn').checked?'block':'none';dot.style.width='4px';dot.style.height='4px';dot.style.left='-2px';dot.style.top='-2px';
}

document.querySelectorAll('input').forEach(i=>i.oninput=update);
update();
</script>
</body>
</html>
